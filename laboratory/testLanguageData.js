const data = {
  user: {
    repositories: {
      nodes: [
        {
          languages: {
            edges: [
              {
                size: 13735,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 4700,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 18435,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 1347,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 23421,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 190238,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 215006,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 20742,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 20742,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 4991,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
            ],
            totalSize: 4991,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 21800,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 137,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 4687,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
            ],
            totalSize: 26624,
          },
        },
        {
          languages: {
            edges: [],
            totalSize: 0,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 81937,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 771,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
              {
                size: 2287,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 3854,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 88849,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 86049,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 1644,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
              {
                size: 2287,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 3854,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 220492,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
            ],
            totalSize: 314326,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 75401,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 340657,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
              {
                size: 6076,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 422134,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 1748,
                node: {
                  color: '#3572A5',
                  name: 'Python',
                  id: 'MDg6TGFuZ3VhZ2UxNDU=',
                },
              },
              {
                size: 1527,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 8737,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 3936,
                node: {
                  color: '#438eff',
                  name: 'Objective-C',
                  id: 'MDg6TGFuZ3VhZ2UxNTY=',
                },
              },
            ],
            totalSize: 15948,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 187,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 577,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 2253,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
            ],
            totalSize: 3017,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 637320,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 230058,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
              {
                size: 2655,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 2248,
                node: {
                  color: '#101F1F',
                  name: 'AppleScript',
                  id: 'MDg6TGFuZ3VhZ2UyNzk=',
                },
              },
              {
                size: 3665,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
            ],
            totalSize: 875946,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 4146,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 4146,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 31045,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 31045,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 25669,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 1015,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 28420,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
            ],
            totalSize: 55104,
          },
        },
        {
          languages: {
            edges: [],
            totalSize: 0,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 378,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 753,
                node: {
                  color: '#438eff',
                  name: 'Objective-C',
                  id: 'MDg6TGFuZ3VhZ2UxNTY=',
                },
              },
              {
                size: 32162,
                node: {
                  color: '#00B4AB',
                  name: 'Dart',
                  id: 'MDg6TGFuZ3VhZ2UyNzc=',
                },
              },
              {
                size: 2114,
                node: {
                  color: '#701516',
                  name: 'Ruby',
                  id: 'MDg6TGFuZ3VhZ2UxNDE=',
                },
              },
            ],
            totalSize: 35407,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 380,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 753,
                node: {
                  color: '#438eff',
                  name: 'Objective-C',
                  id: 'MDg6TGFuZ3VhZ2UxNTY=',
                },
              },
              {
                size: 66925,
                node: {
                  color: '#00B4AB',
                  name: 'Dart',
                  id: 'MDg6TGFuZ3VhZ2UyNzc=',
                },
              },
              {
                size: 2114,
                node: {
                  color: '#701516',
                  name: 'Ruby',
                  id: 'MDg6TGFuZ3VhZ2UxNDE=',
                },
              },
            ],
            totalSize: 70172,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 253,
                node: {
                  color: '#384d54',
                  name: 'Dockerfile',
                  id: 'MDg6TGFuZ3VhZ2U1MzU=',
                },
              },
              {
                size: 51999,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 2057,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 54309,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 22572,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 22572,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 16178,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 32379,
                node: {
                  color: '#438eff',
                  name: 'Objective-C',
                  id: 'MDg6TGFuZ3VhZ2UxNTY=',
                },
              },
              {
                size: 276229,
                node: {
                  color: '#00B4AB',
                  name: 'Dart',
                  id: 'MDg6TGFuZ3VhZ2UyNzc=',
                },
              },
              {
                size: 4228,
                node: {
                  color: '#701516',
                  name: 'Ruby',
                  id: 'MDg6TGFuZ3VhZ2UxNDE=',
                },
              },
            ],
            totalSize: 329014,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 38509,
                node: {
                  color: '#b07219',
                  name: 'Java',
                  id: 'MDg6TGFuZ3VhZ2UxNTg=',
                },
              },
              {
                size: 1731,
                node: {
                  color: '#701516',
                  name: 'Ruby',
                  id: 'MDg6TGFuZ3VhZ2UxNDE=',
                },
              },
              {
                size: 20891,
                node: {
                  color: '#438eff',
                  name: 'Objective-C',
                  id: 'MDg6TGFuZ3VhZ2UxNTY=',
                },
              },
              {
                size: 30827,
                node: {
                  color: '#00B4AB',
                  name: 'Dart',
                  id: 'MDg6TGFuZ3VhZ2UyNzc=',
                },
              },
              {
                size: 1287,
                node: {
                  color: '#89e051',
                  name: 'Shell',
                  id: 'MDg6TGFuZ3VhZ2UxMzk=',
                },
              },
            ],
            totalSize: 93245,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 225539,
                node: {
                  color: '#3572A5',
                  name: 'Python',
                  id: 'MDg6TGFuZ3VhZ2UxNDU=',
                },
              },
              {
                size: 9372,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 3728,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 19201,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 257840,
          },
        },
        {
          languages: {
            edges: [],
            totalSize: 0,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 24677,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
            ],
            totalSize: 24677,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 140037,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 30415,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 1015,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 171467,
          },
        },
        {
          languages: {
            edges: [],
            totalSize: 0,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 6672,
                node: {
                  color: '#563d7c',
                  name: 'CSS',
                  id: 'MDg6TGFuZ3VhZ2UzMDg=',
                },
              },
              {
                size: 38617,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
            ],
            totalSize: 45289,
          },
        },
        {
          languages: {
            edges: [],
            totalSize: 0,
          },
        },
        {
          languages: {
            edges: [
              {
                size: 23946,
                node: {
                  color: '#f1e05a',
                  name: 'JavaScript',
                  id: 'MDg6TGFuZ3VhZ2UxNDA=',
                },
              },
              {
                size: 15829,
                node: {
                  color: '#2b7489',
                  name: 'TypeScript',
                  id: 'MDg6TGFuZ3VhZ2UyODc=',
                },
              },
              {
                size: 545,
                node: {
                  color: '#e34c26',
                  name: 'HTML',
                  id: 'MDg6TGFuZ3VhZ2U0MTc=',
                },
              },
              {
                size: 3495,
                node: {
                  color: '#2c3e50',
                  name: 'Vue',
                  id: 'MDg6TGFuZ3VhZ2U0ODM=',
                },
              },
            ],
            totalSize: 43815,
          },
        },
      ],
    },
  },
}

let totalSize = 0
const nodes = []
data.user.repositories.nodes.forEach((l) => {
  totalSize += l.languages.totalSize
  if (l.languages.edges) {
    l.languages.edges.forEach((item) => {
      const exists = nodes.find((el) => el.id === item.node.id)
      if (exists) {
        exists.size += item.size
      } else {
        nodes.push({
          ...item.node,
          size: item.size,
        })
      }
    })
  }
})

nodes.sort((a, b) => b.size - a.size)
const colors = nodes.map((item) => item.color)

console.log(totalSize)
console.log(nodes)
console.log(colors)
